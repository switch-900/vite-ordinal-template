<!DOCTYPE html>
<html lang="en">
<head>
  <title>vite ordinal template</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
  <script src="/content/5d82695b820a676ba23cda5390249f295eacb1a97e4df20fc02eaa501bd20eedi0"></script>
  <script src="/content/609b117277f1e9c9f27f358fe02db34e13d08915bbcea18770dc36f5f3afcbb2i2"></script>
  <link rel="icon" href="/content/cfab194b924f7785c6e453728e1c264b89b74843633278cda3ad3f57576c1e93i0">
  <script type="module" crossorigin>import{jsx as e,jsxs as n}from"react/jsx-runtime";import d,{useRef as l,useEffect as c,Suspense as f}from"react";import u from"react-dom/client";import{useFrame as p,Canvas as h}from"@react-three/fiber";import{Perf as v}from"r3f-perf";import{Environment as g,CameraControls as x,Grid as y}from"@react-three/drei";import{boxelGeometry as w}from"/content/c0dec9591190449efc84e972ebc6b96e98a6ce971faa79357e0e688167934131i0";import{useControls as b,Leva as N}from"leva";import S from"three-custom-shader-material";import*as C from"three";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function m(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=m(t);fetch(t.href,o)}})();const P=()=>e(g,{environmentIntensity:.75,files:"/content/8c4ea8f9fafef081345ba8a72c08efed2373d0ba33ac92aca5f043071fc42909i0"}),E=()=>{const r=l();return c(()=>{window.cam=r.current,r.current.moveTo(-0,0,0,!0),r.current.rotateTo(.3,1.2,0,!0),r.current.dollyTo(9,!0)},[]),p(()=>{r.current.rotate(.002,0,!0)}),e(x,{makeDefault:!0,ref:r})},L=()=>{const[{scale:r,angle:i}]=b("edit boxel",()=>({scale:{value:1,min:.1,max:2,step:.01},angle:{value:.1,min:.01,max:.99,step:.01}}),{color:"#ff9900"});return e("mesh",{geometry:w,scale:r,children:e(S,{baseMaterial:C.MeshStandardMaterial,flatShading:!0,transparent:!0,uniforms:{time:{value:0}},vertexShader:`
          
            // adjust shape here when instancing
            attribute float angle;
            
            varying vec3 vPos;
            varying vec3 vNormal;

            void main() {
            csm_Position += normal * ${i-.2+.01} * 0.5; // test mode
            vPos = csm_Position;
            vNormal = normal;
        }
            `,fragmentShader:`
            varying vec3 vPos;
            varying vec3 vNormal;

            uniform float time;

            void main() {
                csm_DiffuseColor = vec4(1.8, 0.5, 0., 1.);
            }
            `},i)})},M=()=>{const r=l();return c(()=>{window.gridFloor=r.current},[]),e(y,{gridSize:[1,1],cellSize:.1,cellThickness:1,cellColor:"#6f6f6f",sectionSize:1,sectionThickness:1.5,sectionColor:"#ff6600",fadeDistance:200,fadeStrength:50,followCamera:!0,infiniteGrid:!0,position:[0,-.5,0],ref:r})},O=()=>n("div",{className:"pointer-events-none gloww absolute flex flex-col justify-center text-orange-500 p-2 px-3 text-xl",children:[n("div",{className:"flex",children:[e("div",{className:"w-6 h-6 min-w-6 bg-orange-400 mt-1.5 mr-1.5 rounded-sm"}),e("span",{className:"opacity-80 pr-1.5 pt-1",children:e("i",{children:"the"})}),' "',e("span",{className:"text-orange-400 text-3xl hover:text-lime-400 pointer-events-auto cursor-crosshair",children:"boxel"}),'"']}),n("div",{className:"text-md w-[200px] flex flex-col",children:[n("div",{children:["a ",e("span",{className:"text-orange-300",children:"faceted cube"})," with multiple shapes, all in one geometry!"]}),e("div",{className:"text-sm text-orange-300 pt-2 opacity-80",children:"the 'angle' shader attribute moves the vertices along their normals"})]})]}),T=()=>n(h,{dpr:1,camera:{fov:21,position:[-4,2,2]},children:[e("color",{attach:"background",args:[.02,.02,.022]}),n(f,{children:[e(P,{}),e(E,{}),e(L,{}),e(M,{}),window.innerWidth<300?null:e(v,{position:"bottom-left"})]})]});function R(){return n("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[e(T,{}),e(N,{hidden:window.innerWidth<300}),e(O,{})]})}u.createRoot(document.getElementById("root")).render(e(d.StrictMode,{children:e(R,{})}));
</script>
  <style rel="stylesheet">@font-face{font-family:Font;src:url(/content/74eed71c46430c38e056ef1bc69ad2c521293a8941d2177b52e7d447b42d5522i0)}html,body,#root{margin:0;width:100%;height:100%;background:#333;font-family:Font,serif}.gloww{text-shadow:0 0 55px #ff9900,0 0 32px rgba(255,119,0,.7),0 0 7px #000,0 0 16px #000,0 0 3px #bf00ff}
</style>
</head>
<body><div id="root"></div></body>
</html>
